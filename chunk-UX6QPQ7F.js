import{Vb as c,X as v,Xb as g,_ as f,f as u,fa as o,j as l,na as m,o as b,pa as s}from"./chunk-QZ5DSOVB.js";function w(n){n||(n=o(s));let e=new l(t=>n.onDestroy(t.next.bind(t)));return t=>t.pipe(v(e))}var i=class{constructor(e){u(this,"source");u(this,"destroyed",!1);u(this,"destroyRef",o(s));this.source=e,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}subscribe(e){if(this.destroyed)throw new f(953,!1);let t=this.source.pipe(w(this.destroyRef)).subscribe({next:r=>e(r)});return{unsubscribe:()=>t.unsubscribe()}}};function U(n,e){return new i(n)}function F(n,e){var a;let t=(a=e==null?void 0:e.injector)!=null?a:o(m),r=new b(1),y=g(()=>{let d;try{d=n()}catch(D){c(()=>r.error(D));return}c(()=>r.next(d))},{injector:t,manualCleanup:!0});return t.get(s).onDestroy(()=>{y.destroy(),r.complete()}),r.asObservable()}export{w as a,U as b,F as c};
