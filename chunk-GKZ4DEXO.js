import{a as L}from"./chunk-TBR7VGGX.js";import{i as ae,j as me,l as le,m as de}from"./chunk-RO2HGPEC.js";import{a as O,b as j,d as q,m as re}from"./chunk-U2SUD6JW.js";import{$ as R,Ad as Q,Bd as W,Da as m,Ed as V,Gd as Z,I as P,Ib as y,Jd as ee,Kb as F,Kd as te,Nd as ie,Oa as H,Od as ne,Qb as G,Qd as oe,_b as z,ac as D,bb as k,bc as $,cb as M,ec as x,fa as E,hb as g,hc as B,ib as r,ja as _,jb as s,ka as f,kb as p,la as T,ma as S,ob as C,rb as h,td as X,ub as c,ud as Y,vd as J,wd as K,yd as v}from"./chunk-ONJJYMGM.js";var b={minHour:0,maxHour:24,minMinute:0,maxMinute:60,minSecond:0,maxSecond:60,meridian:12},A=1,ce=/[^0-9]/g,I=/^(2[0-3]|[0-1][0-9]|[0-9])$/,se=/^([0-5][0-9]|[0-9])$/,ue=/^([0-5][0-9]|[0-9])$/;function N(o){let l=o.toString();return l.length>1?l:"0".concat(l)}function pe(o){return Error("NgxMatDatetimePicker: No provider found for ".concat(o,". You must import one of the following ")+"modules at your application root: provideNgxMatNativeDate(), provideNgxMatMomentDate(), or provide a custom implementation.")}function _e(o,l){if(o&1){let i=C();r(0,"td")(1,"button",7),h("click",function(){_(i);let t=c(2);return f(t.change("second",!0))}),r(2,"mat-icon"),T(),r(3,"svg",8),p(4,"path",9),s()()()()}if(o&2){let i=c(2);m(),g("disabled",i.disabled()||i.disableMinute())}}function fe(o,l){o&1&&p(0,"td",5)(1,"td")}function ge(o,l){if(o&1){let i=C();r(0,"tr")(1,"td")(2,"button",7),h("click",function(){_(i);let t=c();return f(t.change("hour",!0))}),r(3,"mat-icon"),T(),r(4,"svg",8),p(5,"path",9),s()()()(),S(),p(6,"td"),r(7,"td")(8,"button",7),h("click",function(){_(i);let t=c();return f(t.change("minute",!0))}),r(9,"mat-icon"),T(),r(10,"svg",8),p(11,"path",9),s()()()(),S(),p(12,"td"),k(13,_e,5,1,"td"),k(14,fe,2,0),s()}if(o&2){let i=c();m(2),g("disabled",i.disabled()),m(6),g("disabled",i.disabled()||i.disableMinute()),m(5),M(i.showSeconds()?13:-1),m(),M(i.enableMeridian()?14:-1)}}function xe(o,l){if(o&1){let i=C();r(0,"td",5),y(1,":"),s(),r(2,"td")(3,"mat-form-field",3)(4,"input",10),h("input",function(t){_(i);let n=c();return f(n.formatInput(t.target))})("keydown.ArrowUp",function(t){return _(i),c().change("second",!0),f(t.preventDefault())})("keydown.ArrowDown",function(t){return _(i),c().change("second",!1),f(t.preventDefault())})("blur",function(){_(i);let t=c();return f(t.change("second"))}),s()()()}if(o&2){let i=c();m(3),g("color",i.color())}}function he(o,l){if(o&1){let i=C();p(0,"td",5),r(1,"td",11)(2,"button",12),h("click",function(){_(i);let t=c();return f(t.toggleMeridian())}),y(3),s()()}if(o&2){let i=c();m(2),g("color",i.color())("disabled",i.disabled()),m(),F(" ",i.meridian()," ")}}function be(o,l){if(o&1){let i=C();p(0,"td"),r(1,"td")(2,"button",13),h("click",function(){_(i);let t=c(2);return f(t.change("second",!1))}),r(3,"mat-icon"),T(),r(4,"svg",8),p(5,"path",14),s()()()()}if(o&2){let i=c(2);m(2),g("disabled",i.disabled()||i.disableMinute())}}function ke(o,l){o&1&&p(0,"td",5)(1,"td")}function Me(o,l){if(o&1){let i=C();r(0,"tr")(1,"td")(2,"button",13),h("click",function(){_(i);let t=c();return f(t.change("hour",!1))}),r(3,"mat-icon"),T(),r(4,"svg",8),p(5,"path",14),s()()()(),S(),p(6,"td"),r(7,"td")(8,"button",13),h("click",function(){_(i);let t=c();return f(t.change("minute",!1))}),r(9,"mat-icon"),T(),r(10,"svg",8),p(11,"path",14),s()()()(),k(12,be,6,1),k(13,ke,2,0),s()}if(o&2){let i=c();m(2),g("disabled",i.disabled()),m(6),g("disabled",i.disabled()||i.disableMinute()),m(4),M(i.showSeconds()?12:-1),m(),M(i.enableMeridian()?13:-1)}}var w=function(o){return o.AM="AM",o.PM="PM",o}(w||{}),Be=(()=>{let l=class l{get hour(){let e=Number(this.form.controls.hour.getRawValue());return Number.isNaN(e)?0:e}get minute(){let e=Number(this.form.controls.minute.getRawValue());return Number.isNaN(e)?0:e}get second(){let e=Number(this.form.controls.second.getRawValue());return Number.isNaN(e)?0:e}constructor(){var e,t,n;if(this.formBuilder=E(ne),this._dateAdapter=E(re,{optional:!0}),this.disabled=x(!1),this.showSpinners=x(!0),this.stepHour=x(A),this.stepMinute=x(A),this.stepSecond=x(A),this.showSeconds=x(!1),this.disableMinute=x(!1),this.enableMeridian=x(!1),this.defaultTime=x(),this.color=x("primary"),this.pattern=I,this.meridianInput=x(w.AM,{alias:"meridian"}),this.meridian=$(()=>this.meridianInput()),this.form=this.formBuilder.group({hour:new V((e=this.defaultTime())!=null&&e[0]?String(this.defaultTime()[0]):null,{validators:[v.required,v.pattern(I)],nonNullable:!0}),minute:new V((t=this.defaultTime())!=null&&t[1]?String(this.defaultTime()[1]):null,{validators:[v.required,v.pattern(se)],nonNullable:!0}),second:new V((n=this.defaultTime())!=null&&n[2]?String(this.defaultTime()[2]):null,{validators:[v.required,v.pattern(ue)],nonNullable:!0})}),this._onChange=()=>{},this._onTouched=()=>{},this.value=B(),!this._dateAdapter)throw pe("DateAdapter");this.form.valueChanges.pipe(L(),P(300)).subscribe(()=>{this._updateModel()}),D(()=>{this._setDisableStates(this.disabled(),this.disableMinute())}),D(()=>{let u=this.value();u&&this._updateHourMinuteSecond(u)}),D(()=>{this.meridian(),z(()=>this.change("hour"))})}writeValue(e){e!=null&&this.value.set(e)}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){e?this.form.disable():this._setDisableStates(!1,this.disableMinute())}formatInput(e){e.value=e.value.replace(ce,"")}toggleMeridian(){this.meridian.set(this.meridian()===w.AM?w.PM:w.AM)}change(e,t){let n=this._getNextValueByProp(e,t);this.form.controls[e].setValue(N(n),{onlySelf:!1,emitEvent:!0}),this._onTouched()}_updateHourMinuteSecond(e){let t=this._dateAdapter.getHours(e),n=this._dateAdapter.getMinutes(e),u=this._dateAdapter.getSeconds(e);this.enableMeridian()&&(t>=b.meridian?(t=t-b.meridian,this.meridian.set(w.PM)):this.meridian.set(w.AM),t===0&&(t=b.meridian)),this.form.patchValue({hour:N(t),minute:N(n),second:N(u)},{emitEvent:!1})}_updateModel(){if(this.form.invalid)return;let e=this.hour;this.enableMeridian()&&(this.meridian()===w.AM&&e===b.meridian?e=0:this.meridian()===w.PM&&e!==b.meridian&&(e=e+b.meridian));let t=this.value();if(t){let n=this._dateAdapter.clone(t);n=this._dateAdapter.setTime(n,e,this.minute,this.second),this.value.set(n),this._onChange(n),this._onTouched()}}_getNextValueByProp(e,t){let n=e[0].toUpperCase()+e.slice(1),u=b["min".concat(n)],a=b["max".concat(n)];e==="hour"&&this.enableMeridian()&&(a=b.meridian);let d;if(t==null)d=this[e]%a,e==="hour"&&this.enableMeridian()&&d===0&&(d=a);else{let U=this["step".concat(n)]();d=t?this[e]+U:this[e]-U,e==="hour"&&this.enableMeridian()?(d=d%(a+1),d===0&&(d=t?1:a)):d=d%a,t?d=d>a?d-a+u:d:d=d<u?d-u+a:d}return d}_setDisableStates(e,t){e?this.form.disable():(this.form.enable(),t&&(this.form.get("minute").disable(),this.showSeconds()&&this.form.get("second").disable()))}};l.\u0275fac=function(t){return new(t||l)},l.\u0275cmp=H({type:l,selectors:[["ngx-mat-timepicker"]],hostAttrs:[1,"ngx-mat-timepicker"],inputs:{disabled:[1,"disabled"],showSpinners:[1,"showSpinners"],stepHour:[1,"stepHour"],stepMinute:[1,"stepMinute"],stepSecond:[1,"stepSecond"],showSeconds:[1,"showSeconds"],disableMinute:[1,"disableMinute"],enableMeridian:[1,"enableMeridian"],defaultTime:[1,"defaultTime"],color:[1,"color"],meridianInput:[1,"meridian","meridianInput"],value:[1,"value"]},outputs:{value:"valueChange"},exportAs:["ngxMatTimepicker"],features:[G([{provide:J,useExisting:R(()=>l),multi:!0}])],decls:16,vars:7,consts:[[3,"formGroup"],[1,"ngx-mat-timepicker-table"],[1,"ngx-mat-timepicker-tbody"],["appearance","fill",3,"color"],["type","text","matInput","","maxlength","2","formControlName","hour",3,"input","keydown.ArrowUp","keydown.ArrowDown","blur"],[1,"ngx-mat-timepicker-spacer"],["type","text","matInput","","maxlength","2","formControlName","minute",3,"input","keydown.ArrowUp","keydown.ArrowDown","blur"],["type","button","mat-icon-button","","aria-label","expand_less icon",3,"click","disabled"],["viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],["d","M18 15l-6-6-6 6"],["type","text","matInput","","maxlength","2","formControlName","second",3,"input","keydown.ArrowUp","keydown.ArrowDown","blur"],[1,"ngx-mat-timepicker-meridian"],["mat-button","","mat-stroked-button","",3,"click","color","disabled"],["type","button","mat-icon-button","","aria-label","keyboard_arrow_down icon",3,"click","disabled"],["d","M6 9l6 6 6-6"]],template:function(t,n){t&1&&(r(0,"form",0)(1,"table",1)(2,"tbody",2),k(3,ge,15,4,"tr"),r(4,"tr")(5,"td")(6,"mat-form-field",3)(7,"input",4),h("input",function(a){return n.formatInput(a.target)})("keydown.ArrowUp",function(a){return n.change("hour",!0),a.preventDefault()})("keydown.ArrowDown",function(a){return n.change("hour",!1),a.preventDefault()})("blur",function(){return n.change("hour")}),s()()(),r(8,"td",5),y(9,":"),s(),r(10,"td")(11,"mat-form-field",3)(12,"input",6),h("input",function(a){return n.formatInput(a.target)})("keydown.ArrowUp",function(a){return n.change("minute",!0),a.preventDefault()})("keydown.ArrowDown",function(a){return n.change("minute",!1),a.preventDefault()})("blur",function(){return n.change("minute")}),s()()(),k(13,xe,5,1),k(14,he,4,3),s(),k(15,Me,14,4,"tr"),s()()()),t&2&&(g("formGroup",n.form),m(3),M(n.showSpinners()?3:-1),m(3),g("color",n.color()),m(5),g("color",n.color()),m(2),M(n.showSeconds()?13:-1),m(),M(n.enableMeridian()?14:-1),m(),M(n.showSpinners()?15:-1))},dependencies:[oe,Z,K,Q,W,ie,ee,te,me,ae,de,le,q,j,O,Y,X],styles:[".ngx-mat-timepicker form .ngx-mat-timepicker-table .ngx-mat-timepicker-tbody tr td{text-align:center}.ngx-mat-timepicker form .ngx-mat-timepicker-table .ngx-mat-timepicker-tbody tr td.ngx-mat-timepicker-spacer{font-weight:700}.ngx-mat-timepicker form .ngx-mat-timepicker-table .ngx-mat-timepicker-tbody tr td.ngx-mat-timepicker-meridian .mdc-button{min-width:64px;line-height:36px;min-width:0;border-radius:50%;width:36px;height:36px;padding:0;flex-shrink:0}.ngx-mat-timepicker form .ngx-mat-timepicker-table .ngx-mat-timepicker-tbody tr td .mat-mdc-icon-button{display:inline-flex;align-items:center;justify-content:center;height:var(--mat-icon-button-state-layer-size, 40px);width:var(--mdc-icon-button-state-layer-size, 40px);line-height:var(--mdc-icon-button-state-layer-size, 40px);font-size:var(--mdc-icon-button-icon-size, 24px);color:var(--mdc-icon-button-icon-color, var(--mat-sys-on-surface-variant));padding:calc((var(--mdc-icon-button-state-layer-size, 40px) - var(--mdc-icon-button-icon-size, 24px)) / 2)}.ngx-mat-timepicker form .ngx-mat-timepicker-table .ngx-mat-timepicker-tbody tr td .mat-mdc-icon-button .mat-icon{font-size:var(--mdc-icon-button-icon-size, 24px)}.ngx-mat-timepicker form .ngx-mat-timepicker-table .ngx-mat-timepicker-tbody tr td .mat-mdc-icon-button svg{width:var(--mdc-icon-button-icon-size, 24px);height:var(--mdc-icon-button-icon-size, 24px);vertical-align:baseline}.ngx-mat-timepicker form .ngx-mat-timepicker-table .ngx-mat-timepicker-tbody tr td .mat-mdc-icon-button:disabled,.ngx-mat-timepicker form .ngx-mat-timepicker-table .ngx-mat-timepicker-tbody tr td .mat-mdc-icon-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-icon-button-disabled-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.ngx-mat-timepicker form .ngx-mat-timepicker-table .ngx-mat-timepicker-tbody tr td .mat-mdc-form-field{width:24px;max-width:24px;text-align:center}.ngx-mat-timepicker form .ngx-mat-timepicker-table .ngx-mat-timepicker-tbody tr td .mat-mdc-form-field.mat-focused .mdc-text-field--filled .mat-mdc-form-field-focus-overlay,.ngx-mat-timepicker form .ngx-mat-timepicker-table .ngx-mat-timepicker-tbody tr td .mat-mdc-form-field:hover .mdc-text-field--filled .mat-mdc-form-field-focus-overlay{background-color:transparent}.ngx-mat-timepicker form .ngx-mat-timepicker-table .ngx-mat-timepicker-tbody tr td .mat-mdc-form-field .mdc-text-field--filled{background-color:transparent!important;padding:0!important}.ngx-mat-timepicker form .ngx-mat-timepicker-table .ngx-mat-timepicker-tbody tr td .mat-mdc-form-field .mdc-text-field--filled .mat-mdc-form-field-infix{padding:4px 0;min-height:1px!important}.ngx-mat-timepicker form .ngx-mat-timepicker-table .ngx-mat-timepicker-tbody tr td .mat-mdc-form-field .mdc-text-field--filled .mat-mdc-form-field-infix input{text-align:center;font-size:14px}\n"],encapsulation:2,changeDetection:0});let o=l;return o})();export{A as a,Be as b};
